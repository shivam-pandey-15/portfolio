# Research: 1.2 When Search Fails: Revenue, Retention, Trust

## The Cost of Bad Search

When search fails, users don't blame themselves. They blame you.

---

## Real-World Case Studies Across Industries

### Case 1: E-commerce (Flipkart Big Billion Days)
**What happened**: During peak sale, search latency spiked to 3+ seconds.
**Root cause**: Shards were unevenly distributed; hot products overwhelmed specific nodes.
**Impact**: Estimated ₹50Cr+ in lost sales over 4 hours.
**Fix**: Implemented time-based query routing and added semantic caching.

### Case 2: SaaS (Slack)
**What happened**: Enterprise customers complained they "couldn't find anything."
**Root cause**: Messages older than 90 days weren't indexed for free plans, but error message was unclear.
**Impact**: 15% increase in support tickets, customer churn.
**Fix**: Clear messaging about search limits + improved free tier indexing.

### Case 3: Media (A Major Streaming Service)
**What happened**: Users searching for "The Office" got wrong results.
**Root cause**: "The Office" (US) and "The Office" (UK) had same title; system randomly picked one.
**Impact**: Social media complaints, memes about bad search.
**Fix**: Added entity disambiguation + regional signals.

### Case 4: Code Search (Pre-2023 GitHub)
**What happened**: Developers couldn't find code they knew existed.
**Root cause**: Old code search only indexed default branches, missed forks and non-main branches.
**Impact**: Developers used external tools (grep.app, Sourcegraph).
**Fix**: Complete rewrite of code search (2023) indexing 200M+ repos.

### Case 5: Log Search (Production Incident)
**What happened**: During outage, SREs couldn't find relevant logs.
**Root cause**: Log ingestion was 15 minutes behind during the spike.
**Impact**: Mean Time to Resolution (MTTR) extended by 45 minutes.
**Fix**: Hot-path indexing for error-level logs, lag alerting.

---

## Failure Mode 1: Zero Results

### The Problem
User searches for something you have, but gets "No results found."

### Real Examples by Domain

| Domain | Query | Catalog Has | Why Zero Results |
|--------|-------|-------------|------------------|
| E-commerce | "iPhone charger" | Lightning cables | Missing synonym |
| E-commerce | "grey sweater" | "gray sweater" | Spelling variation |
| E-commerce | "laptop under $500" | Laptops at $499 | Price filter bug |
| Document | "Q3 report" | "2024-Q3-Report.pdf" | Tokenization issue |
| Code | "getUserById" | "get_user_by_id" | Naming convention |
| Media | "that song that goes..." | Song exists | No content understanding |

### Business Impact
- **Direct**: User thinks you don't have the product. They leave.
- **Indirect**: User loses trust. "If they can't even search properly..."
- **Compounding**: User tells friends. Negative word of mouth.

### Statistics
- Industry average zero result rate: **5-15%**
- Best-in-class (Amazon, Google): **< 2%**
- Each 1% reduction in ZRR = **~1-2% revenue lift**

---

## Failure Mode 2: Irrelevant Results

### The Problem
User searches and gets results, but they're wrong.

### Real Examples by Domain

| Domain | Query | Expected | Got | Root Cause |
|--------|-------|----------|-----|------------|
| E-commerce | "cheap laptop" | $300 laptops | $2000 MacBook | Popularity over intent |
| E-commerce | "running shoes size 10" | Size 10 | All sizes | Filter not applied |
| Document | "budget proposal" | Finance doc | Blog about budgeting | Text match over context |
| Web | "Apple" | Apple Inc | Fruit recipes | Ambiguity not resolved |
| Code | "auth" | Auth module | Random file with "auth" in comment | No code structure awareness |

### The Position 1 Problem
- 68% of clicks go to position 1-3
- Wrong #1 = failed search in user's mind
- Position bias: users assume top = best

### Real Incident: Booking.com
**What happened**: Hotel search for "Paris" showed hotels in Paris, Texas first.
**Root cause**: Texas properties had more recent reviews (freshness signal).
**Impact**: User complaints, social media mockery.
**Fix**: Added geographic intent detection.

---

## Failure Mode 3: Slow Search

### The Problem
Results are relevant but take too long.

### Latency Impact (Research)
| Latency | User Behavior | Revenue Impact |
|---------|---------------|----------------|
| < 100ms | Feels instant | Baseline |
| 100-300ms | Noticeable | -0.5% |
| 300-1000ms | Attention wanders | -2% |
| > 1s | Opens new tab | -5% |
| > 3s | Abandons | -10%+ |

### Real Data by Company
- **Amazon**: 100ms latency = 1% revenue loss ($4B/year at their scale)
- **Google**: 500ms slower = 20% fewer searches
- **Walmart**: 1 second improvement = 2% conversion lift
- **Pinterest**: 40% latency reduction = 15% more signups

### Root Causes (Real Incidents)

| Company Type | Cause | Latency Impact |
|--------------|-------|----------------|
| E-commerce | Unoptimized aggregations | +800ms |
| SaaS | Cold shard wake-up | +2s on first query |
| Log search | Cross-cluster fan-out | +3s during peak |
| Media | ML reranker timeout | +500ms |

---

## Failure Mode 4: Duplicate/Spam Results

### The Problem
Same product appears multiple times, or junk appears in results.

### Real Examples

**Marketplace (Amazon 3P sellers):**
- 47 listings for "iPhone 15 case" that are the same product
- Different sellers, different prices, same factory image
- User has to manually compare

**SEO Spam (E-commerce):**
```
"Best Quality Premium iPhone Case Cover Protective Shockproof for 
iPhone 15 14 13 12 11 Pro Max Plus Mini XS XR X 8 7 6 SE..."
```

**Review Spam (Media):**
- Movie reviews that don't mention the actual movie
- AI-generated 5-star reviews with generic text

### Business Impact
- User frustration: "I've already seen this"
- Wasted screen real estate
- Lower trust in catalog quality
- Increased returns (user bought the "wrong" duplicate)

---

## Failure Mode 5: Broken Filters

### The Problem
User applies a filter, but results don't respect it.

### Real Examples by Domain

| Domain | Filter Applied | Expected | Got | Why |
|--------|----------------|----------|-----|-----|
| E-commerce | "In stock" | Available | Out of stock | Indexing lag |
| E-commerce | "4+ stars" | Highly rated | 3 reviews, 5 stars each | Bad rating logic |
| E-commerce | "Prime eligible" | Fast ship | 3P seller | Seller flag wrong |
| Job search | "Remote" | WFH jobs | "Remote, ND" location | Text match |
| Real estate | "2+ bedrooms" | 2+ beds | 1-bed + den | Data quality |

### Why This Happens
1. **Indexing lag**: Product status changed after indexing
2. **Filter logic bugs**: Substring matches instead of exact
3. **Stale cache**: Filter cache not invalidated
4. **Data quality**: Source data is inconsistent

---

## Failure Mode 6: Trust Violations

### The Problem
Search results undermine user trust.

### Examples

**Misleading Sponsored Results:**
- Query: "best laptop 2024"
- Result #1: Sponsored (paid) result disguised as organic
- User trusts it, buys, returns

**Biased Results:**
- Query: "climate change"
- Results: All from one political perspective
- User loses trust in objectivity

**Privacy Violations:**
- Query: "pregnancy test" 
- Result: Targeted ads follow user across platforms
- User feels violated

---

## Quantifying the Damage

### Framework: Search Revenue Impact
```
Lost Revenue = (Zero Result Searches × AOV × Potential CVR) 
             + (Irrelevant Result Searches × AOV × CVR Drop)
             + (Slow Searches × Bounce Rate × AOV)
             + (Broken Filter Searches × AOV × Abandonment Rate)
```

### Example Calculation (Mid-size E-commerce)
| Metric | Value | Impact |
|--------|-------|--------|
| Daily searches | 100,000 | - |
| Zero result rate | 8% | 8,000 failed |
| CVR if worked | 20% | 1,600 conversions lost |
| AOV | $50 | $80K/day lost |
| **Annual** | - | **$29M** |

---

## Cross-Dimensional Failure Matrix

| Dimension | E-commerce | Document | Web | Code | Media |
|-----------|------------|----------|-----|------|-------|
| Zero Results | Synonyms | OCR fails | Crawl gaps | Naming conventions | Content understanding |
| Irrelevant | Popularity bias | Text match | Spam | Comment matches | Genre mismatch |
| Slow | Aggregations | Large docs | Crawl lag | Regex | Media transcoding |
| Duplicates | 3P sellers | Version conflicts | Mirrors | Forks | Re-uploads |
| Broken Filters | Inventory lag | Permission bugs | Safe search | Language | Rating systems |

---

## Recovery Strategies

### For Zero Results
1. Spell correction: "iphoen" → "iPhone"
2. Synonym expansion: "laptop" → "notebook"
3. Fallback: "No exact match, but you might like..."
4. Log and review weekly

### For Irrelevant Results
1. Audit top 100 queries manually
2. Add business rules: in-stock items first
3. Use click data to learn what's relevant
4. A/B test ranking changes

### For Slow Search
1. Profile slow queries (top 100 by latency)
2. Add caching layers (result cache, filter cache)
3. Reduce fan-out to shards
4. Set latency budgets by stage

### For Broken Filters
1. Real-time inventory sync
2. Exact match over substring
3. Cache invalidation on data change
4. Automated filter accuracy testing

---

## Key Takeaways

1. **Search failures cost real money** — quantify the impact
2. **Different domains have different failure patterns**
3. **Zero results is the most expensive failure** — fix first
4. **Monitor proactively** — don't wait for user complaints
5. **Every failure erodes trust** — trust is hard to rebuild
