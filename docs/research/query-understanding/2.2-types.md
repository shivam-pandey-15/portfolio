# Research: 2.2 Types of Queries

## The Classification Problem
Not all queries are created equal. Understanding query types helps you optimize for the right thing.

---

## By User Intent

### 1. Navigational Queries
**User knows exactly where they want to go.**

| Query | Expected Result |
|-------|-----------------|
| "facebook login" | Facebook login page |
| "amazon" | Amazon homepage |
| "gmail" | Gmail inbox |
| "my orders" | User's order history |

**Characteristics:**
- Usually branded or specific
- Success = single correct result at #1
- High precision requirement
- Often typed instead of using bookmarks

**Metrics:** Position of correct result (should be #1)

---

### 2. Informational Queries
**User wants to learn something.**

| Query | Expected Result |
|-------|-----------------|
| "how to tie a tie" | Tutorial or video |
| "weather NYC" | Weather forecast |
| "who is the CEO of Apple" | Answer: Tim Cook |
| "python list comprehension" | Documentation/tutorial |

**Characteristics:**
- May have multiple valid answers
- Featured snippets can satisfy without click
- Educational content preferred
- Freshness matters for some (news, weather)

**Metrics:** Time to answer, satisfaction (did they search again?)

---

### 3. Transactional Queries
**User wants to DO something (buy, download, sign up).**

| Query | Expected Result |
|-------|-----------------|
| "buy iPhone 15" | Product page with buy button |
| "download Spotify" | App store / download page |
| "book flight to Paris" | Flight booking results |
| "subscribe Netflix" | Netflix signup page |

**Characteristics:**
- High commercial intent
- Ads often highly relevant
- Conversion is the goal
- Price, availability, reviews matter

**Metrics:** Conversion rate, revenue per search

---

### 4. Local Queries
**User wants something nearby.**

| Query | Expected Result |
|-------|-----------------|
| "pizza near me" | Local pizza places |
| "gas station" | Nearest gas stations |
| "dentist open now" | Available dentists nearby |
| "coffee shop with wifi" | Cafes with wifi, sorted by distance |

**Characteristics:**
- Location is critical signal
- "Near me" often implicit
- Business hours, reviews, distance matter
- Mobile-heavy

**Metrics:** Click-to-visit, direction requests

---

## By Query Structure

### Short Queries (1-2 words)
```
"shoes"
"laptop"
"pizza"
```

**Challenges:**
- Highly ambiguous
- Millions of potential results
- Need strong ranking signals

**Prevalence:** ~50% of all queries

---

### Medium Queries (3-5 words)
```
"running shoes for men"
"best laptop 2024"
"pizza delivery near me"
```

**Characteristics:**
- Some filtering applied
- Clearer intent
- Easier to serve

**Prevalence:** ~35% of all queries

---

### Long Queries (6+ words)
```
"men's nike air max size 11 black under $150"
"how to fix bluetooth not working on macbook"
```

**Characteristics:**
- Very specific intent
- May be natural language
- Exact match less likely
- Need semantic understanding

**Prevalence:** ~15% of all queries

---

### Natural Language Queries
```
"what's a good laptop for video editing under 1000 dollars"
"I need running shoes for flat feet"
"show me romantic comedies from the 90s"
```

**Characteristics:**
- Conversational tone
- May include pronouns ("I", "my")
- Growing due to voice search
- Requires NLU, not just keyword matching

---

## By Query Frequency

### Head Queries (Top 1%)
```
"amazon", "facebook", "weather", "youtube"
```

- Generate 20-30% of all search traffic
- Heavily optimized (every small improvement = big impact)
- Often cached
- A/B tested extensively

### Torso Queries (Next 10%)
```
"running shoes", "best laptop", "pizza near me"
```

- Moderate volume
- Category-level queries
- Important for business metrics
- Some pattern-based optimization

### Tail Queries (Bottom 89%)
```
"blue nike air max 90 size 11.5 wide"
"coffee shop in brooklyn with outdoor seating and good wifi"
```

- Each query is rare (maybe once ever)
- But collectively = 50%+ of traffic
- Cannot manually optimize
- Need robust, generalizable systems

---

## By Domain

### E-commerce
| Type | Example | Optimization |
|------|---------|--------------|
| Product | "iPhone 15" | Exact match, availability |
| Category | "phones" | Facets, filters |
| Attribute | "under $500" | Price parsing |
| Brand | "Apple" | Brand pages |

### Content/Media
| Type | Example | Optimization |
|------|---------|--------------|
| Title | "Breaking Bad" | Exact title match |
| Genre | "comedy movies" | Category mapping |
| Actor | "Tom Hanks movies" | Entity linking |
| Mood | "upbeat songs" | Semantic understanding |

### Enterprise/Document
| Type | Example | Optimization |
|------|---------|--------------|
| Keyword | "Q3 report" | Full-text search |
| Person | "John's notes" | Author filtering |
| Date | "last week" | Time parsing |
| Format | "PDF presentation" | File type filter |

---

## Query Classification in Practice

### Rule-Based Classification
```python
if "near me" in query or has_location(query):
    intent = "local"
elif query in known_brands:
    intent = "navigational"
elif "how to" in query or "what is" in query:
    intent = "informational"
else:
    intent = "transactional"  # default for e-commerce
```

**Pros:** Fast, interpretable, no training data needed
**Cons:** Brittle, doesn't generalize

### ML-Based Classification
Train a classifier on labeled queries:
- Input: query text + features (length, entities, user history)
- Output: intent class (navigational, informational, transactional, local)

**Pros:** Generalizes to unseen queries, captures nuance
**Cons:** Needs training data, can be slow

---

## Key Takeaways

1. **Intent classification is the first step** in understanding a query
2. **Head queries are different from tail** — different optimization needed
3. **Short queries are the hardest** — maximum ambiguity
4. **Natural language is growing** — need semantic understanding
5. **Domain matters** — e-commerce, content, enterprise have different patterns
